<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>jsTree Demo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
</head>

<body>
  <div id="jstree_demo_div"></div>
  <script>
    var DATA = [{
      "id": "276",
      "text": "分析",
      "parent_id": "0",
      "children": [{
        "parent_id": "276",
        "id": "281",
        "text": "监测概况"
      }]
    }]

    function customMenu(node) {
      var items = {
        "new": {
          "label": "新建子菜单",
          "action": function (data) {
            //code...
          }
        },
        "edit": {
          "label": "编辑菜单",
          "action": function (data) {
            //code...
          }
        },
        "delete": {
          "label": "删除菜单",
          "action": function (data) {
            //code...
          }
        }
      }
      if(node.original.parent_id !== '0'){
        delete items.new
      }
      return items
    }

    $(function () {
      $('#jstree_demo_div').jstree({
        core: {
          'data': DATA,
        },
        'contextmenu': {
          'items': customMenu
        },
        'plugins': ['contextmenu']
      })
    })
  </script>
</body>

</html>