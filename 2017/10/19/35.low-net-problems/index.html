<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> vue-cli 使用记录以及使用过程中遇到的问题总结 · I'm Tit1e</title><meta name="description" content="vue-cli 使用记录以及使用过程中遇到的问题总结 - Tit1e"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="I'm Tit1e"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">vue-cli 使用记录以及使用过程中遇到的问题总结</h1><div class="post-info">2017年10月19日</div><div class="post-content"><p>前段时间抽空重写了陋网,还没开发完成, 还有很多细节需要完善. 所以这篇博客随着开发还会更新.<br><a id="more"></a></p>
<h3 id="配置记录"><a href="#配置记录" class="headerlink" title="配置记录"></a>配置记录</h3><h4 id="注-下面的文件都是以实际项目中的-program-目录为根目录来写路径的"><a href="#注-下面的文件都是以实际项目中的-program-目录为根目录来写路径的" class="headerlink" title="注: 下面的文件都是以实际项目中的 program 目录为根目录来写路径的"></a>注: 下面的文件都是以实际项目中的 <code>program</code> 目录为根目录来写路径的</h4><h4 id="package-json"><a href="#package-json" class="headerlink" title="/package.json"></a><code>/package.json</code></h4><p>用过 <code>node.js</code> 的基本都知道, 主要用来管理包依赖,当然里面还会有些项目作者, 项目描述等配置,不过这都不是主要的.<br>说到依赖, 在 <code>/package.json</code> 中有两种依赖,分别是 <code>dependencies</code> 和 <code>devDependencies</code>, 从字面上大致可以看出两者的区别在于一个是生产环境用到的依赖, 一个是开发环境用到的依赖, 比如 <code>axios</code> 要在线上用于 <code>http</code> 请求, 所以这个依赖肯定得配置在 <code>dependencies</code> 下, 在安装的时候只要在命令后面加上 <code>--save</code> 就能自动写进 <code>dependencies</code>. 而像 <code>eslint</code> 这种依赖是在开发阶段用于代码检查的, 生产环境中不需要的,那么就配置在 <code>devDependencies</code> 下, 安装的时候在命令后面加上 <code>--save-dev</code>就自动写进 <code>devDependencies</code> 中.</p>
<h4 id="config-index-js"><a href="#config-index-js" class="headerlink" title="/config/index.js"></a><code>/config/index.js</code></h4><p>可配置 <code>index.html</code> 和 <code>static</code> 文件夹的打包输出路径.</p>
<h4 id="build-webpack-base-conf"><a href="#build-webpack-base-conf" class="headerlink" title="/build/webpack.base.conf"></a><code>/build/webpack.base.conf</code></h4><p>可在这个文件下的 ‘resolve’ 下的 <code>alias</code> 对象中配置资源引用路径的缩写.     <code>vue-cli</code> 在构建的时候默认会有 <code>&#39;@&#39;: resolve(&#39;src&#39;)</code> 这条配置, 意思是引用文件的时候, <code>src</code> 这个路径可以用 <code>@</code> 表示, 当路径长了这个配置的优势就会提现出来. </p>
<h3 id="项目记录"><a href="#项目记录" class="headerlink" title="项目记录"></a>项目记录</h3><h4 id="index-html"><a href="#index-html" class="headerlink" title="/index.html"></a><code>/index.html</code></h4><p>入口文件, 项目最后打包的时候, 所有代码都会压缩到这个 <code>html</code> 文件中.<br>需要注意的是, 由于vue作了限制, 在文件中引用静态资源时, 静态资源不可放于src目录下, 要放于与这个文件同级的 <code>static</code> 目录下.</p>
<h4 id="sass"><a href="#sass" class="headerlink" title="sass"></a><code>sass</code></h4><p>要使用 <code>sass</code> 需要安装 <code>node-sass</code> 和 <code>sass-loader</code> 两个包<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install <span class="keyword">node</span><span class="title">-sass</span> --save-dev</div><div class="line">npm install sass-loader --save-dev</div></pre></td></tr></table></figure></p>
<p>然后在 <code>style</code> 标签中声明 <code>&lt;style lang=&quot;scss&quot;&gt;&lt;/style&gt;</code> 就可以使用了.</p>
<h4 id="fastclick"><a href="#fastclick" class="headerlink" title="fastclick"></a><code>fastclick</code></h4><p>移动端用 <code>fastclick</code> 来解决300毫秒点击延迟问题.<br><code>npm install fastclick --save</code><br>在 <code>main.js</code> 中 import: <code>import fastclick from &#39;fastclick&#39;</code> .<br>并且在绑定在 <code>body</code> 上: <code>fastclick.attach(document.body)</code> .</p>
<h4 id="better-scroll"><a href="#better-scroll" class="headerlink" title="better-scroll"></a><code>better-scroll</code></h4><p>使用 <code>better-scroll</code> 来获得更好的移动端体验<br><code>npm install better-scroll --save</code><br>由于项目中需要滚动的地方都需要用到 <code>better-scroll</code>, 所以将它封装成一个通用的基础组件,需要使用的时候直接引用就可以了.<br>很多刚使用 <code>better-scroll</code> 的人会遇到使用了插件,并且初始化也成功了,但是却滚动不了. 网上一查有很多的相关问题,我在使用的时候也遇到了这个问题,其实在 <code>better-scroll</code> 的 github 上已经说得比较清楚了:<br><img src="https://camo.githubusercontent.com/fd2fd41d5bc70502acb590d53f2084248587cb85/687474703a2f2f7374617469632e67616c696c656f2e7869616f6a756b656a692e636f6d2f7374617469632f746d732f736869656c642f7363726f6c6c2d342e706e67"><br>包裹的元素需要设置一个固定高度,当子元素的高度大于父元素的高度的时候就好出现滚动条. <code>better-scroll</code> 的核心原理就是禁用默认滚动条, 父元素设固定高度, 内容超出部分隐藏, 然后用 <code>css</code> 动画来做滚动效果.<br>所以只需要给父元素加个固定高度就可以解决页面不滚动问题.</p>
<h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a><code>vue-router</code></h4><ul>
<li><p>添加路由<br>在 <code>/src/router/index.js</code> 中可配置路由. 先将组件 import 进来, 然后在 <code>routes</code> 数组中添加路由配置. 一般路由格式如下:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attribute">path</span>: <span class="string">'/home'</span>,</div><div class="line">  component: Home</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>默认路由<br><code>redirect</code> 可配置项目的默认路由:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attribute">path</span>: <span class="string">'/'</span>,</div><div class="line">  redirect: <span class="string">'/index'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>嵌套路由</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attribute">path</span>: <span class="string">'/home'</span>,</div><div class="line">  children: [</div><div class="line">    &#123;</div><div class="line">      path: <span class="string">'/home/index'</span>,</div><div class="line">      component: Index</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>动态路由</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attribute">path</span>: <span class="string">'/people/id/:id'</span>,</div><div class="line">  component: People</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>例子中的配置在地址中的渲染效果会是 <code>/people/id/1</code>.</p>
<p>未完待续…</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/12/14/36.vue-import-sass-global/" class="prev">上一篇</a><a href="/2017/10/18/34.low-net/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="http://yoursite.com">Tit1e</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>